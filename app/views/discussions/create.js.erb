<% if @discussion.errors.any? %>
  $(".discussion-form").html("<%= j render "/discussions/form" %>"); 
<% else %>
 $('.discussions').append("<%= j render partial: '/discussions/discussion', locals: { discussion: @discussion } %>");  //'j' escapes javascript \", \n, and all special chars
  <% @discussion = Discussion.new %>
  $(".discussion-form").html("<%= j render "/discussions/form" %>"); 
<% end %>